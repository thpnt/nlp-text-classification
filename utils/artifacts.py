# Slang dictionary for text preprocessing
slang_dict = {
    'u': 'you',
    'r': 'are',
    'ur': 'your',
    'urs': 'yours',
    'youre': 'you are',
    'im': 'i am',
    'dont': 'do not',
    'cant': 'cannot',
    "can't": 'cannot',
    'wont': 'will not',
    'isnt': 'is not',
    'aint': 'is not',
    'arent': 'are not',
    'wasnt': 'was not',
    "wasn't": 'was not',
    'werent': 'were not',
    'havent': 'have not',
    "haven't": 'have not',
    'hasnt': 'has not',
    "hasn't": 'has not',
    'hadnt': 'had not',
    "hadn't": 'had not',
    'shouldnt': 'should not',
    "shouldn't": 'should not',
    'wouldnt': 'would not',
    "wouldn't": 'would not',
    'couldnt': 'could not',
    "couldn't": 'could not',
    'dont': 'do not',
    "don't": 'do not',
    'doesnt': 'do not',
    'didnt': 'did not',
    "didn't": 'did not',
    'ill': 'i will',
    "i'll": 'i will',
    'id': 'i would',
    "i'd": 'i would',
    'ive': 'i have',
    'idk': "i do not know",
    'ikr': "i know right",
    'tbh': "to be honest",
    'brb': "be right back",
    'btw': "by the way",
    'omg': "oh my god",
    'lmk': "let me know",
    'smh': "shaking my head",
    'tho': "though",
    'thru': "through",
    'yall': "you all",
    'gonna': "going to",
    'wanna': "want to",
    'gotta': "got to",
    'lemme': "let me",
    'kinda': "kind of",
    'sorta': "sort of",
    'whatcha': "what are you",
    'dunno': "do not know",
    'nvm': "never mind",
    'pls': "please",
    'plz': "please",
    'cuz': "because",
    'cos': "because",
    'bc': "because",
    'w/e': "whatever",
    'w/o': "without",
    'b/c': "because",
    'bday': "birthday",
    'gr8': "great",
    'l8r': "later",
    'yolo': "you only live once",
    'fyi': "for your information",
    'np': "no problem",
    'ty': "thank you",
    'thx': "thanks",
    'msg': "message",
    'bcuz': "because",
    'ttyl': "talk to you later",
    'omw': "on my way",
    'jk': "just kidding",
    'b4': "before",
    'cya': "see you",
    'asap': "as soon as possible",
    'pic': "picture",
    'pics': "pictures",
    'prolly': "probably",
    'rly': "really",
    'srsly': "seriously",
    'luv': "love",
    'ya': "you",
    'nite': "night",
    'tmrw': "tomorrow",
    'btwn': "between",
    'thx': "thanks",
    'fwd': "forward",
    'bbl': "be back later",
    'gg': "good game",
    'imo': "in my opinion",
    'imho': "in my humble opinion",
    'irl': "in real life",
    'ftw': "for the win",
    'afk': "away from keyboard",
    'rofl': "rolling on the floor laughing",
    'lol': "laughing out loud",
    'ppl': "people",
    'fam': "family",
    'dm': "direct message",
    'bc': "because",
    'wud': "what would",
    'wyd': "what are you doing",
    'l8': "late",
    'fomo': "fear of missing out",
    'hmu': "hit me up",
    'rn': "right now",
    'yo': "hello",
    'birches': "bitches",
    'birch' : 'bitch',
    'fknu' : 'fuck',
    'abso': 'absolute',
    'absurdz': 'absurd',
    'azz': 'ass',
    'b1tch': 'bitch',
    'biatch': 'bitch',
    'bish': 'bitch',
    'btch': 'bitch',
    'bih': 'bitch',
    'bltch': 'bitch',
    'bitchz': 'bitch',
    'bustard': 'bastard',
    'bullshyt': 'bullshit',
    'ch1nk': 'chink',
    'c0ck': 'cock',
    'cr@p': 'crap',
    'cruddy': 'crap',
    'cuk': 'cuck',
    'cnt': 'cunt',
    'cum': 'come',
    'cvm': 'come',
    'clt': 'clit',
    'cl1t': 'clit',
    'cuntz': 'cunt',
    'd1ck': 'dick',
    'dik': 'dick',
    'dikk': 'dick',
    'dumbass': 'dumb ass',
    'dumba$$': 'dumb ass',
    'dumass': 'dumb ass',
    'effin': 'fucking',
    'f***': 'fuck',
    'f**k': 'fuck',
    'f*ck': 'fuck',
    'fuk': 'fuck',
    'fk': 'fuck',
    'fkr': 'fucker',
    'fukk': 'fuck',
    'frck': 'frick',
    'freakin': 'fucking',
    'freakn': 'fucking',
    'frckn': 'fucking',
    'f4g': 'fag',
    'f4ggot': 'faggot',
    'fa99ot': 'faggot',
    'fuq': 'fuck',
    'fvck': 'fuck',
    'g@y': 'gay',
    'ghey': 'gay',
    'gayz': 'gay',
    'gaybo': 'gay',
    'hoar': 'whore',
    'ho3': 'hoe',
    'h0e': 'hoe',
    'h0r': 'whore',
    'idiotz': 'idiot',
    'id10t': 'idiot',
    'jackass': 'jerk',
    'k1ll': 'kill',
    'kys': 'kill yourself',
    'kl0wn': 'clown',
    'klwn': 'clown',
    'loserz': 'loser',
    'luser': 'loser',
    'l00ser': 'loser',
    'lmfao': 'laughing my fucking ass off',
    'moronz': 'moron',
    'm0ron': 'moron',
    'mofo': 'motherfucker',
    'motherfkr': 'motherfucker',
    'motherfvcker': 'motherfucker',
    'mthrfkr': 'motherfucker',
    'n00b': 'newbie',
    'nob': 'noob',
    'nibba': 'nigger',
    'ni99a': 'nigger',
    'niqqa': 'nigger',
    'p0rn': 'porn',
    'p0ssy': 'pussy',
    'prck': 'prick',
    'pussi': 'pussy',
    'puzzy': 'pussy',
    'rap3': 'rape',
    'retardz': 'retard',
    'rtard': 'retard',
    'schmuck': 'jerk',
    'sh1t': 'shit',
    'sht': 'shit',
    'sh!t': 'shit',
    'shyt': 'shit',
    'shtty': 'shitty',
    'suckz': 'sucks',
    'sucka': 'sucker',
    'sukk': 'suck',
    'suks': 'sucks',
    'sukr': 'sucker',
    'slutty': 'slut',
    'skank': 'prostitute',
    'th0t': 'thot',
    't1tty': 'titty',
    'tw@t': 'twat',
    'twat': 'twit',
    'vgn': 'virgin',
    'wh0re': 'whore',
    'wtf': 'what the fuck',
    'wtfh': 'what the fuck',
    'y0': 'you',
    'yeet': 'throw',
    'yoosuck': 'you suck',
    'yousuk': 'you suck'
}


# Time and date regexes
TIME = r"([0-9]{1,2}:[0-9]{2}( (am|AM|pm|PM))?)"
DAY = r"([23]?(1(st)?|2(nd)?|3(rd)?|[4-9](th)?)|1[0-9](th)?)"
MONTH = r"(January|February|March|April|May|June|July|August|September|October|November|December|Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Nov|Dec)"
YEAR = r"('?[0-9]{2}|[0-9]{4})"
DATE = rf"(({DAY} {MONTH}|{MONTH} {DAY})(,? {YEAR})?)"
TIMESTAMP = rf"((({TIME},? (\(UTC\) )?)?{DATE}|({DATE},? )?{TIME})(\s+\(UTC\))?)"

# The 'talk' part at the end of a signature
TALK = r"((\|\s*|\(\s*)?[tT]alk((\s*[-|•, ]\s*|\s+)[cC]ontribs)?(\s*[-|)])?)"

# IP addresses
IP = r"([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})"

# Username and the username part of a the signature
USERNAME = r"([^#<>[\]|{}/@\s]+)"
USER_SIG = rf"((((?:\s)[-–—]\s*)?(\((User:)?{USERNAME}\)|User:{USERNAME})|(?:\s)[-–—]\s*{USERNAME})(\s+{TALK})?)"

# A full signature
SIGNATURE = rf"(((([-–—]\s*)?{IP}(\s+{USER_SIG})?|(?:\s)[-–—]\s*[uU]nsigned|{TALK}|{USER_SIG})(\s+{TIMESTAMP})?)|{TIMESTAMP}(\s+{TALK})?)"

# List of the patterns to remove
REGEX_REMOVE = [
    r"^(\"+|'+)",  # Initial quotation marks
    r"(\"+|'+)$",  # Final quotation marks
    r"^REDIRECT.*$",  # The whole comment is a redirect
    rf"^\s*{SIGNATURE}",  # Initial signature
    rf"{SIGNATURE}\s*$",  # Final signature
    r" \[[0-9]+\]|\[[0-9]+\] ",  # Citations
    r"‖\s+[tT]alk - [-a-zA-Z0-9._()\s]+‖",
    r"==[^=]+==",
    r"^::+",
    r"^\s*\(UTC\)",
    rf"Unblock {IP}",
    r"2nd Unblock Request",
    r":Category:",
    r"File:[^\s]+",
    r"\{\|.+\|\}",  # Embedded code
    # r"\{\{.+\s.+\}\}", # Embedded code
    r"^\s+",  # Initial whitespace
    r"\s+$",  # Trailing whitespace
]

# List of patterns to replaces
REGEX_REPLACE = {
    "\n+": "\n",
    "\\'": "'",
    '""+': '"',
    "''+": "'",
    # r"(WP|Wikipedia):[^\s]+": "URL", # Wikipedia internal links
    r"[^\s]+#[^\s]+": "URL",  # Wikipedia internal links
    r"https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)": "URL",  # ULRs
    r"([uU]ser_[tT]alk|[tT]alk):[^\s]+": "URL",  # Talk links
}